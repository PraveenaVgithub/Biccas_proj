"use strict";(self.webpackChunkbiccas_proj_1=self.webpackChunkbiccas_proj_1||[]).push([[318],{318:(s,e,i)=>{i.r(e),i.d(e,{default:()=>j});var t=i(43),a=i(261),l=i(579);const c=s=>{let{size:e,setShow:i}=s;return(0,l.jsxs)("div",{className:"cart-icon",title:"Cart",onClick:()=>{i(!1)},children:["\ud83d\uded2",e>0&&(0,l.jsx)("div",{className:"cart-badge",children:e})]})},r=t.lazy((()=>Promise.all([i.e(899),i.e(336)]).then(i.bind(i,336)))),n=t.lazy((()=>i.e(715).then(i.bind(i,715)))),o=s=>{let{handleClick:e,handleWish:i}=s;const[a,c]=(0,t.useState)([]),[o,h]=(0,t.useState)(""),[d,m]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{m(!0);try{const s=await fetch("https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=CQzVQIGKmMZAGbatGE3GQ32okJIlt2ro"),e=await s.json();c(e.results.books)}catch(s){console.error("Error fetching books:",s)}finally{m(!1)}})()}),[]);const j=a.filter((s=>{const e=s.title.toLowerCase(),i=s.author.toLowerCase();return e.includes(o.toLowerCase())||i.includes(o.toLowerCase())}));return(0,l.jsxs)("div",{className:"container mt-5",children:[(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading search bar..."}),children:(0,l.jsx)(n,{onSearch:s=>{h(s)}})})}),d?(0,l.jsx)("h2",{children:"Loading..."}):0===j.length?(0,l.jsx)("h2",{children:"OOPS ... Unavailable Search"}):(0,l.jsx)("div",{className:"row gy-4 g-5 row-cols-1 row-cols-sm-2 row-cols-md-4 text-center",children:j.map((s=>(0,l.jsx)("div",{className:"col",children:(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)("div",{children:"\ud83d\udcd6"}),children:(0,l.jsx)(r,{book:s,title:s.title,author:s.author,description:s.description,book_image:s.book_image,handleClick:e,handleWish:i})})},s.primary_isbn13)))})]})},h=s=>{let{cart:e,size:i,setShow:a,setCart:c}=s;const[r,n]=(0,t.useState)(0),[o,h]=(0,t.useState)({});(0,t.useEffect)((()=>{e.forEach((s=>{h((e=>({...e,[s.primary_isbn13]:1})))}))}),[e,1]);const d=()=>{let s=0;e.forEach((e=>{s+=50*o[e.primary_isbn13]})),n(s)};(0,t.useEffect)((()=>{d()}));const m=()=>{a(!1)},j=(s,e)=>{h((i=>({...i,[s]:i[s]+e}))),d()};return e&&0!==i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"cartitem-whole",children:[(0,l.jsx)("button",{onClick:m,className:"mb-3 bbc",children:"Back to Shop"}),(0,l.jsx)("div",{className:"eachrow",children:e.map((s=>(0,l.jsx)("div",{className:"col-12 mb-3",children:(0,l.jsxs)("div",{className:"cart-item",children:[(0,l.jsx)("img",{src:s.book_image,alt:s.title,className:"cart-item-image"}),(0,l.jsx)("div",{className:"cart-item-details",children:(0,l.jsx)("h5",{children:s.title})}),(0,l.jsxs)("div",{className:"quantity-controls me-3",children:[o[s.primary_isbn13]>1?(0,l.jsx)("button",{onClick:()=>j(s.primary_isbn13,-1),children:"-"}):(0,l.jsx)("span",{}),(0,l.jsx)("span",{children:o[s.primary_isbn13]}),(0,l.jsx)("button",{onClick:()=>j(s.primary_isbn13,1),children:"+"})]}),(0,l.jsxs)("div",{className:"remove-button ms-1",children:[(0,l.jsxs)("span",{children:["$",50]}),(0,l.jsx)("button",{onClick:()=>(s=>{const i=e.filter((e=>e.primary_isbn13!==s));c(i)})(s.primary_isbn13),children:"Remove"})]})]})},s.primary_isbn13)))})]}),(0,l.jsxs)("div",{className:"totprice",children:[(0,l.jsx)("span",{children:"Total Price of your Cart"}),(0,l.jsxs)("span",{children:["$ ",r]})]})]}):(0,l.jsxs)("div",{className:"centerr",children:[(0,l.jsx)("h2",{children:"Your cart is empty"}),(0,l.jsx)("button",{onClick:m,children:"Back to Shop"})]})},d=s=>{let{size:e,onToggle:i}=s;return(0,l.jsxs)("div",{className:"wish-icon",title:"WishList",onClick:i,children:["\u2764\ufe0f",e>0&&(0,l.jsx)("div",{className:"wish-badge",children:e})]})},m=s=>{let{wish:e,size:i,setWishShow:t,setWishes:a}=s;return e&&0!==i?(0,l.jsxs)("div",{className:"wishlist-whole",children:[(0,l.jsx)("button",{onClick:()=>t(!1),className:"mb-3 wishlist-back-button",children:"Back to Shop"}),(0,l.jsx)("div",{className:"wishlist-items-container",children:e.map(((s,i)=>(0,l.jsx)("div",{className:"col-12 mb-3",children:(0,l.jsx)("div",{className:"wishlist-item-row",children:(0,l.jsxs)("div",{className:"wishlist-item",children:[(0,l.jsx)("img",{src:s.book_image,alt:s.title,className:"wishlist-item-image"}),(0,l.jsxs)("div",{className:"wishlist-item-details",children:[(0,l.jsx)("h5",{children:s.title}),(0,l.jsxs)("div",{className:"wishlist-item-actions",children:[(0,l.jsxs)("span",{children:["$",50]}),(0,l.jsx)("button",{className:"wishlist-button remove",onClick:()=>(s=>{const i=[...e];i.splice(s,1),a(i)})(i),children:"Remove"}),(0,l.jsx)("button",{className:"wishlist-button buy",children:"Buy"})]})]})]})},i)},i.primary_isbn13)))})]}):(0,l.jsxs)("div",{className:"centerr",children:[(0,l.jsx)("h2",{children:"Your WishList is empty"}),(0,l.jsx)("button",{onClick:()=>t(!1),children:"Back to Shop"})]})},j=()=>{const[s,e]=(0,t.useState)(!1),[i,r]=(0,t.useState)(!1),[n,j]=(0,t.useState)([]),[x,b]=(0,t.useState)([]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.A,{}),(0,l.jsxs)("div",{className:"d-flex justify-content-end mt-2",children:[(0,l.jsx)(d,{size:x.length,onToggle:()=>{r((s=>!s))}}),(0,l.jsx)(c,{size:n.length,setShow:()=>{e((s=>!s))}})]}),(0,l.jsx)("div",{children:i?(0,l.jsx)(m,{wish:x,size:x.length,setWishShow:r,setWishes:b}):s?(0,l.jsx)(h,{cart:n,size:n.length,setShow:e,setCart:j}):(0,l.jsx)(o,{handleClick:s=>{n.find((e=>e.primary_isbn13===s.primary_isbn13))?alert("This book is already added to the cart."):j([...n,s])},handleWish:(s,e)=>{const i=x.find((e=>e.primary_isbn13===s.primary_isbn13));if(e){const e=x.filter((e=>e.primary_isbn13!==s.primary_isbn13));b(e)}else i?alert("This book is already in the wishlist."):b([...x,s])}})})]})}}}]);
//# sourceMappingURL=318.f0aedb2a.chunk.js.map